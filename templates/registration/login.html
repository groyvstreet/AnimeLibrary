{% extends "catalog/base_generic.html" %}

{% block title %}<title>Вход</title>{% endblock %}

{% block content %}
<div class="card border-success mt-5" style="border-radius: 30px;">
    <div class="card-header bg-transparent border-success d-flex justify-content-center">
        <strong class="text-success">Вход</strong>
    </div>
    <div class="card-body text-success">
        {% if form.errors %}
        <p class="text-danger">Имя пользователя и пароль не совпадают. Попробуйте ещё раз.</p>
        {% endif %}

        {% if user.is_authenticated %}
        <p class="text-success">Вы авторизованы.</p>
        <a href="/"><p class="text-success">На главную</p></a>
        {% else %}

        <form method="post" action="{% url 'login' %}">
            {% csrf_token %}

            <table>

                <tr>
                    <td>{{ form.username.label_tag }}</td>
                    <td>{{ form.username }}</td>
                </tr>

                <tr>
                    <td>{{ form.password.label_tag }}</td>
                    <td>{{ form.password }}</td>
                </tr>
            </table>
            <button type="submit" class="btn btn-outline-success">Войти</button>
            <input type="hidden" name="next" value="{{ next }}"/>
        </form>
        {% endif %}
    </div>
    {% if not user.is_authenticated %}
    <div class="card-footer bg-transparent border-success">
        <div class="col">
            <a href="{% url 'password_reset' %}" class="text-danger">Забыли пароль?</a>
        </div>
        <div class="col">
            <a href="" class="text-warning">Регистрация</a>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
